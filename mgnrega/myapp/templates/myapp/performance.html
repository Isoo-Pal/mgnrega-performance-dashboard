{% extends "myapp/layouts/layout.html" %}

{% block content %}

<div class="container my-5">
    <h4 class="text-center text-primary mb-4">
      üìä ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡§æ‡§π ‡§ï‡§æ ‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®  
      <br>
      <small class="text-muted">Current Month Overview</small>
    </h4>

    <div class="row g-3">

      <!-- Total Workers -->
      <div class="col-6 col-md-3">
        <div class="overview-card text-center" style="background-color: #FF9933;">
          <div class="icon">üë∑‚Äç‚ôÇÔ∏è</div>
          <h5 class="fw-bold">1,20,000</h5>
          <p class="mb-0">‡§ï‡•Å‡§≤ ‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï<br><small>(Total Workers)</small></p>
        </div>
      </div>

      <!-- Avg Work Days -->
      <div class="col-6 col-md-3">
        <div class="overview-card text-center" style="background-color: #4CAF50;">
          <div class="icon">üìÖ</div>
          <h5 class="fw-bold">56 ‡§¶‡§ø‡§®</h5>
          <p class="mb-0">‡§î‡§∏‡§§ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¶‡§ø‡§µ‡§∏<br><small>(Avg Work Days)</small></p>
        </div>
      </div>

      <!-- Wages Paid -->
      <div class="col-6 col-md-3">
        <div class="overview-card text-center" style="background-color: #2196F3;">
          <div class="icon">üí∞</div>
          <h5 class="fw-bold">92%</h5>
          <p class="mb-0">‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§π‡•Å‡§Ü<br><small>(Wages Paid)</small></p>
        </div>
      </div>

      <!-- Active Projects -->
      <div class="col-6 col-md-3">
        <div class="overview-card text-center" style="background-color: #9C27B0;">
          <div class="icon">üèóÔ∏è</div>
          <h5 class="fw-bold">210</h5>
          <p class="mb-0">‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Å<br><small>(Active Projects)</small></p>
        </div>
      </div>

    </div>
</div>

{% comment %} charts {% endcomment %}
<div class="container my-4">
    <h4 class="text-center text-primary mb-4">
      üìà ‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§™‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å  
      <br>
      <small class="text-muted">Historical Trends</small>
    </h4>

    <div class="row g-4">
      <!-- Line Chart: Workers Over Time -->
      <div class="col-12 col-md-6">
        <div class="chart-card">
          <h5>üë∑‚Äç‚ôÇÔ∏è ‡§∏‡§Æ‡§Ø ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ
            <br>
            <small class="text-muted">Workers Over Time</small>
        </h5>
          <canvas id="workersChart"></canvas>
        </div>
      </div>

      <!-- Bar Chart: Wages Paid % per Month -->
      <div class="col-12 col-md-6">
        <div class="chart-card">
          <h5>üí∞ ‡§™‡•ç‡§∞‡§§‡§ø ‡§Æ‡§æ‡§π ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•Ä ‡§ó‡§à ‡§Æ‡§ú‡§¶‡•Ç‡§∞‡•Ä (%)‚Äù
            <br>
            <small class="text-muted">Wages Paid % per Month</small>
            </h5>
          <canvas id="wagesChart"></canvas>
        </div>
      </div>

      <!-- Pie Chart: Active Projects Category -->
      <div class="col-12">
        <div class="chart-card">
          <h5>üèóÔ∏è ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä
            <br>
            <small class="text-muted">Active Projects Category</small>
            </h5>
          <canvas id="projectsChart"></canvas>
        </div>
      </div>
    </div>
</div>

<script>
    // Line Chart: Workers Over Time
    const workersCtx = document.getElementById('workersChart').getContext('2d');
    new Chart(workersCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [{
          label: '‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï(Workers)',
          data: [100000, 115000, 120000, 118000, 130000, 125000],
          borderColor: '#4CAF50', // green
          backgroundColor: 'rgba(76, 175, 80, 0.2)',
          borderWidth: 2,
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        scales: { y: { beginAtZero: false } }
      }
    });

    // Bar Chart: Wages Paid % per Month
    const wagesCtx = document.getElementById('wagesChart').getContext('2d');
    new Chart(wagesCtx, {
      type: 'bar',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [{
          label: '‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•Ä ‡§ó‡§à ‡§Æ‡§ú‡§¶‡•Ç‡§∞‡•Ä(Wages Paid) (%)',
          data: [85, 88, 92, 80, 95, 90],
          backgroundColor: ['#E53935', '#FB8C00', '#4CAF50', '#E53935', '#4CAF50', '#FB8C00']
        }]
      },
      options: {
        responsive: true,
        scales: { y: { beginAtZero: true, max: 100 } }
      }
    });

    // Pie Chart: Active Projects Category
    const projectsCtx = document.getElementById('projectsChart').getContext('2d');
    new Chart(projectsCtx, {
      type: 'pie',
      data: {
        labels: ['‡§∏‡§°‡§º‡§ï‡•á‡§Ç(Roads)', '‡§ú‡§≤ ‡§ï‡§æ‡§∞‡•ç‡§Ø(Water Works)', '‡§Ü‡§µ‡§æ‡§∏(Housing)', '‡§Ö‡§®‡•ç‡§Ø(Other)'],
        datasets: [{
          data: [40, 25, 20, 15],
          backgroundColor: ['#4CAF50', '#FB8C00', '#E53935', '#9C27B0']
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });
  </script>


{% endblock content %}